name = "sqlrest-api"
main = "src/index.ts"
compatibility_date = "2023-12-18"

[env.production]
name = "sqlrest-api-production"

# Environment variables
[vars]
JWT_ISSUER = "SqlRestApi"
JWT_AUDIENCE = "SqlRestApi"
JWT_EXPIRY_MINUTES = "60"
CORS_ORIGINS = "http://localhost:5173,http://localhost:3000,http://localhost:5174"

# Secrets (to be set with wrangler secret put)
# JWT_KEY
# DB_CONNECTION_STRING
# AUTH_USERNAME
# AUTH_PASSWORD

# Optional: D1 Database (if using Cloudflare D1 instead of external SQL)
[[d1_databases]]
binding = "DB"
database_name = "sqlrest-dev-db"
database_id = "86b7a642-104c-430b-8e78-c027bdff9a8e"
